-- phpMyAdmin SQL Dump
-- version 4.4.15.5
-- http://www.phpmyadmin.net
--
-- Хост: 127.0.0.1:3306
-- Время создания: Май 16 2017 г., 15:08
-- Версия сервера: 5.7.11
-- Версия PHP: 5.5.33

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- База данных: `testdb`
--

-- --------------------------------------------------------

--
-- Структура таблицы `articles`
--

CREATE TABLE IF NOT EXISTS `articles` (
  `id` int(11) NOT NULL,
  `type` int(11) DEFAULT NULL,
  `name` varchar(500) DEFAULT NULL,
  `content` text,
  `dateadd` date DEFAULT NULL
) ENGINE=InnoDB AUTO_INCREMENT=26 DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `articles`
--

INSERT INTO `articles` (`id`, `type`, `name`, `content`, `dateadd`) VALUES
(12, 1, 'В Швейцарии испытан первый стратосферный самолет на солнечных батареях', '<p style="box-sizing: border-box; margin: 0px 0px 25px; padding: 0px; border: 0px; color: #333333; font-family: ''PT Serif'', serif; font-size: 18px; background-color: #fafafa;">В Швейцарии впервые поднялся в воздух прототип самолета, летающего на солнечной энергии, &mdash; он предназначен для полетов в стратосфере на высоте до 20 км. Как сообщает&nbsp;<a style="box-sizing: border-box; margin: 0px; padding: 0px; border: none; text-decoration-line: none; transition: color 0.3s ease;" href="https://www.theengineer.co.uk/solarstratos-takes-stratospheric-step-toward-solar-powered-flight/" target="_blank" rel="noopener noreferrer"><strong style="box-sizing: border-box; margin: 0px; padding: 0px; border: 0px;">The Engineer</strong></a>, испытательный полет состоялся 5 мая и продолжался семь минут на высоте 300 м.</p>\r\n<p style="box-sizing: border-box; margin: 0px 0px 25px; padding: 0px; border: 0px; color: #333333; font-family: ''PT Serif'', serif; font-size: 18px; background-color: #fafafa;">&laquo;Электрические и солнечные самолеты будут среди главных достижений XXI века. Наш самолет, который может летать на высотах до 25 км, открывает окно в электрическую и солнечную высотную авиацию&raquo;, &mdash; сказал пилот-испытатель Рафаэль Домиан.</p>\r\n<p style="box-sizing: border-box; margin: 0px 0px 25px; padding: 0px; border: 0px; color: #333333; font-family: ''PT Serif'', serif; font-size: 18px; background-color: #fafafa;">По словам разработчиков, Elektra-2 станет первым в мире самолетом на солнечной тяге, способным поднять на 20-километровую высоту груз до 100 кг. Сам самолет весит 420 кг и сможет, находясь на такой высоте, служить источником сигнала для интернета в труднодоступных районах.</p>', '2017-05-11'),
(13, 1, 'Исследование: кишечные бактерии способны вызвать инсульт', '<p><span style="font-family: -apple-system, BlinkMacSystemFont, Roboto, ''Open Sans'', ''Helvetica Neue'', sans-serif; font-size: 13px;">вот, например, мне на телефон пришло сообщение, что Россельхозбанк дает кредит с 13% годовых.. Я иду в банк и мне там предлагают по другим ставкам- до 21%..ниже нет ни в одном отделении чеченского филиала Россельхозбанка..</span><br style="font-family: -apple-system, BlinkMacSystemFont, Roboto, ''Open Sans'', ''Helvetica Neue'', sans-serif; font-size: 13px;" /><span style="font-family: -apple-system, BlinkMacSystemFont, Roboto, ''Open Sans'', ''Helvetica Neue'', sans-serif; font-size: 13px;">Хорошо, посмотрел в интернете, в Ставрополе есть от 13 до 15%..Еду туда..а там от ворот поворот, посмотрев мою прописку- езжайте по месту жит-ва.. Хотя по российским законам, все граждане России имеют право взять кредит в любом банке и в любом регионе России в любой момент, какая бы российская прописка у него не была.</span></p>\r\n<p style="box-sizing: border-box; margin: 0px 0px 25px; padding: 0px; border: 0px; color: #333333; font-family: ''PT Serif'', serif; font-size: 18px; background-color: #fafafa;">&nbsp;</p>', '2017-05-11'),
(14, 1, 'Исследование: кишечные бактерии способны вызвать инсульт', '<p><span style="font-family: -apple-system, BlinkMacSystemFont, Roboto, ''Open Sans'', ''Helvetica Neue'', sans-serif; font-size: 13px;">вот, например, мне на телефон пришло сообщение, что Россельхозбанк дает кредит с 13% годовых.. Я иду в банк и мне там предлагают по другим ставкам- до 21%..ниже нет ни в одном отделении чеченского филиала Россельхозбанка..</span><br style="font-family: -apple-system, BlinkMacSystemFont, Roboto, ''Open Sans'', ''Helvetica Neue'', sans-serif; font-size: 13px;" /><span style="font-family: -apple-system, BlinkMacSystemFont, Roboto, ''Open Sans'', ''Helvetica Neue'', sans-serif; font-size: 13px;">Хорошо, посмотрел в интернете, в Ставрополе есть от 13 до 15%..Еду туда..а там от ворот поворот, посмотрев мою прописку- езжайте по месту жит-ва.. Хотя по российским законам, все граждане России имеют право взять кредит в любом банке и в любом регионе России в любой момент, какая бы российская прописка у него не была.</span></p>\r\n<p style="box-sizing: border-box; margin: 0px 0px 25px; padding: 0px; border: 0px; color: #333333; font-family: ''PT Serif'', serif; font-size: 18px; background-color: #fafafa;">&nbsp;</p>', '2017-05-11'),
(15, 1, 'Исследование: кишечные бактерии способны вызвать инсульт', '<p><span style="font-family: -apple-system, BlinkMacSystemFont, Roboto, ''Open Sans'', ''Helvetica Neue'', sans-serif; font-size: 13px;">вот, например, мне на телефон пришло сообщение, что Россельхозбанк дает кредит с 13% годовых.. Я иду в банк и мне там предлагают по другим ставкам- до 21%..ниже нет ни в одном отделении чеченского филиала Россельхозбанка..</span><br style="font-family: -apple-system, BlinkMacSystemFont, Roboto, ''Open Sans'', ''Helvetica Neue'', sans-serif; font-size: 13px;" /><span style="font-family: -apple-system, BlinkMacSystemFont, Roboto, ''Open Sans'', ''Helvetica Neue'', sans-serif; font-size: 13px;">Хорошо, посмотрел в интернете, в Ставрополе есть от 13 до 15%..Еду туда..а там от ворот поворот, посмотрев мою прописку- езжайте по месту жит-ва.. Хотя по российским законам, все граждане России имеют право взять кредит в любом банке и в любом регионе России в любой момент, какая бы российская прописка у него не была.</span></p>\r\n<p style="box-sizing: border-box; margin: 0px 0px 25px; padding: 0px; border: 0px; color: #333333; font-family: ''PT Serif'', serif; font-size: 18px; background-color: #fafafa;">&nbsp;</p>', '2017-05-11'),
(25, 1, 'Бедность', '<p><span style="color: #444444; font-family: ''PT Sans Caption'', ''Helvetica Neue'', Helvetica, Arial, sans-serif; font-size: 16px;">По данным Росстата, каждый седьмой житель России живет за чертой бедности. Согласно&nbsp;</span><a style="-webkit-font-smoothing: antialiased; box-sizing: border-box; color: #cc9999; transition: color 0.2s; text-decoration-line: none; font-family: ''PT Sans Caption'', ''Helvetica Neue'', Helvetica, Arial, sans-serif; font-size: 16px;" href="http://www.gks.ru/bgd/free/b04_03/IssWWW.exe/Stg/d02/65.htm" target="_blank" rel="noopener noreferrer">статистике</a><span style="color: #444444; font-family: ''PT Sans Caption'', ''Helvetica Neue'', Helvetica, Arial, sans-serif; font-size: 16px;">, в 2016 году количество людей, чьи доходы ниже прожиточного минимума, увеличилось за год на 300 тысяч и достигло 19,8 миллиона человек. Официально чиновники ведут свои подсчеты, отталкиваясь от среднего минимального дохода&nbsp;&mdash; 9961 рубль. Однако ученые считают, что государственная методика определения бедности устарела и не отражает реальной картины. Социологи считают, что недостаточно просто учитывать тех, кто не дотягивает до прожиточного минимума. Эта группа неоднородна, и в ней надо выделять нищих, малоимущих и &laquo;уязвимых&raquo;. О том, много ли в России тех, кто беднее бедного, и почему неравенство страшнее нищеты, &laquo;Ленте.ру&raquo; рассказала заведующая Центром стратификационных исследований Института социальной политики НИУ ВШЭ Светлана Мареева.</span></p>', '2017-05-15');

-- --------------------------------------------------------

--
-- Структура таблицы `CALLBACK`
--

CREATE TABLE IF NOT EXISTS `CALLBACK` (
  `id` int(11) NOT NULL,
  `phone` varchar(255) DEFAULT NULL,
  `dateadd` date DEFAULT NULL,
  `description` text,
  `dateclose` date DEFAULT NULL,
  `open` bit(1) DEFAULT NULL,
  `fio` varchar(255) DEFAULT NULL
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `CALLBACK`
--

INSERT INTO `CALLBACK` (`id`, `phone`, `dateadd`, `description`, `dateclose`, `open`, `fio`) VALUES
(1, '+7-777-656-98-01', '2017-04-14', 'Mama north', '2017-05-02', b'0', 'Григорий Распутин'),
(2, '+7-777-656-98-01', '2017-04-18', 'Papa Anarchy', NULL, b'1', 'Кошева Арина');

-- --------------------------------------------------------

--
-- Структура таблицы `callgauger`
--

CREATE TABLE IF NOT EXISTS `callgauger` (
  `id` int(11) NOT NULL,
  `phone` varchar(255) DEFAULT NULL,
  `adres` varchar(255) DEFAULT NULL,
  `description` text,
  `open` bit(1) DEFAULT NULL,
  `dateadd` date DEFAULT NULL,
  `dateclose` date DEFAULT NULL,
  `fio` varchar(255) DEFAULT NULL
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `callgauger`
--

INSERT INTO `callgauger` (`id`, `phone`, `adres`, `description`, `open`, `dateadd`, `dateclose`, `fio`) VALUES
(1, NULL, 'Мамуш улы 30', 'Ну его ехать туда там бабка старя', b'1', '2017-04-14', NULL, 'Ирина Аллегрова'),
(5, NULL, 'Лента ру', 'Ехали через реку', b'1', '2017-05-17', '2017-05-17', 'Мы умерли');

-- --------------------------------------------------------

--
-- Структура таблицы `delivery`
--

CREATE TABLE IF NOT EXISTS `delivery` (
  `id` int(11) NOT NULL,
  `id_shares` int(11) DEFAULT NULL,
  `id_listdelivery` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Структура таблицы `itemdelivery`
--

CREATE TABLE IF NOT EXISTS `itemdelivery` (
  `id` int(11) NOT NULL,
  `fio` varchar(255) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `send` bit(1) DEFAULT NULL
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `itemdelivery`
--

INSERT INTO `itemdelivery` (`id`, `fio`, `email`, `send`) VALUES
(1, 'Соколов Олег', 'voshod-nerd@hotmail.com', b'1'),
(3, 'lenta', 'lenta@mail.ru', NULL);

-- --------------------------------------------------------

--
-- Структура таблицы `listdelivery`
--

CREATE TABLE IF NOT EXISTS `listdelivery` (
  `id` int(11) NOT NULL,
  `name` varchar(500) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Структура таблицы `list_items`
--

CREATE TABLE IF NOT EXISTS `list_items` (
  `id` int(11) NOT NULL,
  `id_item_delivery` int(11) DEFAULT NULL,
  `name` varchar(255) DEFAULT NULL,
  `id_delivery_list` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Структура таблицы `shares`
--

CREATE TABLE IF NOT EXISTS `shares` (
  `id` int(11) NOT NULL,
  `name` varchar(500) DEFAULT NULL,
  `datedelivery` date DEFAULT NULL,
  `content` text
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `shares`
--

INSERT INTO `shares` (`id`, `name`, `datedelivery`, `content`) VALUES
(1, 'Новогодняя рассылка', '2017-05-16', '<div>\r\n<h4>Как правило, email-маркетологи готовят новогоднюю стратегию рассылок заранее и самым тщательным образом. Но, для тех, кто только сейчас задумался о новогоднем поздравлении своих клиентов, мы подготовили подборку примеров новогодних и рождественских писем.</h4>\r\n</div>\r\n<h4>Итак, какие виды писем находят подписчики в своих почтовых ящиках под новый год?</h4>'),
(2, 'Новогодняя рассылка', '2017-05-16', '<div>\r\n<h4>Как правило, email-маркетологи готовят новогоднюю стратегию рассылок заранее и самым тщательным образом. Но, для тех, кто только сейчас задумался о новогоднем поздравлении своих клиентов, мы подготовили подборку примеров новогодних и рождественских писем.</h4>\r\n</div>\r\n<h4>Итак, какие виды писем находят подписчики в своих почтовых ящиках под новый год?</h4>');

-- --------------------------------------------------------

--
-- Структура таблицы `topics`
--

CREATE TABLE IF NOT EXISTS `topics` (
  `id` int(11) NOT NULL,
  `name` varchar(50) DEFAULT NULL,
  `description` text,
  `dateadd` date DEFAULT NULL
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `topics`
--

INSERT INTO `topics` (`id`, `name`, `description`, `dateadd`) VALUES
(1, 'О нас', NULL, '2017-04-11'),
(2, 'Окна и двери', NULL, '2017-04-11'),
(3, 'Комплектующие', NULL, '2017-04-11'),
(4, 'Услуги и сервис', NULL, '2017-04-11'),
(5, 'Отзывы', NULL, '2017-04-11'),
(6, 'Акции и цены', NULL, '2017-04-11'),
(7, 'Контакты', NULL, '2017-04-11');

-- --------------------------------------------------------

--
-- Структура таблицы `TYPEUSERS`
--

CREATE TABLE IF NOT EXISTS `TYPEUSERS` (
  `ID` int(11) NOT NULL,
  `NAME` varchar(250) COLLATE utf8_bin DEFAULT NULL
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

--
-- Дамп данных таблицы `TYPEUSERS`
--

INSERT INTO `TYPEUSERS` (`ID`, `NAME`) VALUES
(1, 'ROLE_USER'),
(2, 'ROLE_ADMIN');

-- --------------------------------------------------------

--
-- Структура таблицы `USERS`
--

CREATE TABLE IF NOT EXISTS `USERS` (
  `ID` int(11) NOT NULL,
  `USERNAME` varchar(250) COLLATE utf8_bin DEFAULT NULL,
  `IDTYPEUSER` int(11) DEFAULT NULL,
  `EMAIL` varchar(250) COLLATE utf8_bin DEFAULT NULL,
  `PICTURE` varchar(500) COLLATE utf8_bin DEFAULT NULL,
  `PASSWORD` varchar(500) COLLATE utf8_bin DEFAULT NULL
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

--
-- Дамп данных таблицы `USERS`
--

INSERT INTO `USERS` (`ID`, `USERNAME`, `IDTYPEUSER`, `EMAIL`, `PICTURE`, `PASSWORD`) VALUES
(1, 'olg', 1, 'voshod-nerd@hotmail.com', NULL, '1'),
(2, '111', 2, 'voshod-nerd@hotmail.com', NULL, '1'),
(3, '5', 2, 'voshod-nerd@hotmail.com', NULL, '1'),
(4, 'user', 2, 'voshod-nerd@hotmail.com', NULL, '$2a$10$5rioW2ZJbFs9J3mtYq18H.MZunJwKqnMDenVAn/g4x6HSoHU/hXYK');

--
-- Индексы сохранённых таблиц
--

--
-- Индексы таблицы `articles`
--
ALTER TABLE `articles`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `id` (`id`),
  ADD KEY `FK_articles` (`type`);

--
-- Индексы таблицы `CALLBACK`
--
ALTER TABLE `CALLBACK`
  ADD PRIMARY KEY (`id`);

--
-- Индексы таблицы `callgauger`
--
ALTER TABLE `callgauger`
  ADD PRIMARY KEY (`id`);

--
-- Индексы таблицы `delivery`
--
ALTER TABLE `delivery`
  ADD PRIMARY KEY (`id`),
  ADD KEY `FK_delivery` (`id_shares`),
  ADD KEY `FK_delivery2` (`id_listdelivery`);

--
-- Индексы таблицы `itemdelivery`
--
ALTER TABLE `itemdelivery`
  ADD PRIMARY KEY (`id`);

--
-- Индексы таблицы `listdelivery`
--
ALTER TABLE `listdelivery`
  ADD PRIMARY KEY (`id`);

--
-- Индексы таблицы `list_items`
--
ALTER TABLE `list_items`
  ADD PRIMARY KEY (`id`),
  ADD KEY `FK_listdelivery` (`id_item_delivery`),
  ADD KEY `FK_list_items_listdelivery_id` (`id_delivery_list`);

--
-- Индексы таблицы `shares`
--
ALTER TABLE `shares`
  ADD PRIMARY KEY (`id`);

--
-- Индексы таблицы `topics`
--
ALTER TABLE `topics`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `id` (`id`);

--
-- Индексы таблицы `TYPEUSERS`
--
ALTER TABLE `TYPEUSERS`
  ADD PRIMARY KEY (`ID`);

--
-- Индексы таблицы `USERS`
--
ALTER TABLE `USERS`
  ADD PRIMARY KEY (`ID`),
  ADD KEY `IDTYPEUSER` (`IDTYPEUSER`);

--
-- AUTO_INCREMENT для сохранённых таблиц
--

--
-- AUTO_INCREMENT для таблицы `articles`
--
ALTER TABLE `articles`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT,AUTO_INCREMENT=26;
--
-- AUTO_INCREMENT для таблицы `CALLBACK`
--
ALTER TABLE `CALLBACK`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT,AUTO_INCREMENT=3;
--
-- AUTO_INCREMENT для таблицы `callgauger`
--
ALTER TABLE `callgauger`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT,AUTO_INCREMENT=6;
--
-- AUTO_INCREMENT для таблицы `delivery`
--
ALTER TABLE `delivery`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT для таблицы `itemdelivery`
--
ALTER TABLE `itemdelivery`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT,AUTO_INCREMENT=4;
--
-- AUTO_INCREMENT для таблицы `listdelivery`
--
ALTER TABLE `listdelivery`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT для таблицы `list_items`
--
ALTER TABLE `list_items`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT для таблицы `shares`
--
ALTER TABLE `shares`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT,AUTO_INCREMENT=3;
--
-- AUTO_INCREMENT для таблицы `topics`
--
ALTER TABLE `topics`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT,AUTO_INCREMENT=8;
--
-- AUTO_INCREMENT для таблицы `TYPEUSERS`
--
ALTER TABLE `TYPEUSERS`
  MODIFY `ID` int(11) NOT NULL AUTO_INCREMENT,AUTO_INCREMENT=3;
--
-- AUTO_INCREMENT для таблицы `USERS`
--
ALTER TABLE `USERS`
  MODIFY `ID` int(11) NOT NULL AUTO_INCREMENT,AUTO_INCREMENT=5;
--
-- Ограничения внешнего ключа сохраненных таблиц
--

--
-- Ограничения внешнего ключа таблицы `articles`
--
ALTER TABLE `articles`
  ADD CONSTRAINT `FK_articles` FOREIGN KEY (`type`) REFERENCES `topics` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Ограничения внешнего ключа таблицы `delivery`
--
ALTER TABLE `delivery`
  ADD CONSTRAINT `FK_delivery` FOREIGN KEY (`id_shares`) REFERENCES `shares` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  ADD CONSTRAINT `FK_delivery2` FOREIGN KEY (`id_listdelivery`) REFERENCES `listdelivery` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Ограничения внешнего ключа таблицы `list_items`
--
ALTER TABLE `list_items`
  ADD CONSTRAINT `FK_list_items_listdelivery_id` FOREIGN KEY (`id_delivery_list`) REFERENCES `listdelivery` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  ADD CONSTRAINT `FK_listdelivery` FOREIGN KEY (`id_item_delivery`) REFERENCES `itemdelivery` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Ограничения внешнего ключа таблицы `USERS`
--
ALTER TABLE `USERS`
  ADD CONSTRAINT `users_ibfk_1` FOREIGN KEY (`IDTYPEUSER`) REFERENCES `TYPEUSERS` (`ID`);

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
